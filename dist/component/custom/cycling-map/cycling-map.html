<link rel="import" href="/dist/component/polymer/polymer.html">
<link rel="import" href="/dist/component/google/google-map.html">
<link rel="import" href="/dist/component/google/google-map-marker.html">
<link rel="import" href="/dist/component/google/google-map-poly.html">
<link rel="import" href="/dist/component/google/google-map-directions.html">
<link rel="import" href="/dist/component/google/google-map-poly.html">

<dom-module id="cycling-map">
    <template>
		<style>
			.bike-list-marker {
				cursor: pointer;
			}
			
			.bike-list-marker:hover {
				box-shadow: rgba(0, 0, 0, 0.3) 0 2px 2px 0;
				-webkit-box-shadow: rgba(0, 0, 0, 0.3) 0 2px 2px 0;
				-moz-box-shadow: rgba(0, 0, 0, 0.3) 0 2px 2px 0;
			}
		</style>
		<div class="row custom-map-container" style="height: 800px">
			<div id="divCyclingMap" class="col-sm-9" style="height:100%">
				<google-map api-key="AIzaSyAYewVl33AGSCMPXE7LviN7gEe_MvbOp4c" class="jumbotron">
					<google-map-marker longitude="{{longitude}}" latitude="{{latitude}}">
						<p>You are here</p>
					</google-map-marker>
					<template is="dom-repeat" items="{{routes}}">
						<google-map-marker id="marker{{item.Id}}" latitude="{{item.Lat}}" longitude="{{item.Lng}}" icon="/images/ic_directions_bike_black_24px.svg">
							<p>{{item.Address}}</p>
							<p><strong>{{item.Length}}m</strong></p>
						</google-map-marker>
						<google-map-poly>
							<template is="dom-repeat" items="{{item.RouteLocations}}">
								<google-map-point latitude='{{item.Lat}}' longitude='{{item.Lng}}'></google-map-point>
							</template>
    </google-map-poly>
    </template>
    </google-map>
    </div>
    <div id="divCyclingList" class="col-sm-3 custom-list-items">

        <ul id="listItems" class="list-group">
            <template is="dom-repeat" items="{{routes}}">
						<li class="list-group-item">
							<h4 class="list-group-item-heading">{{item.Address}}</h4>
							<p class="list-group-item-text">
								{{item.Juri}}
								<span class="glyphicon glyphicon-road" aria-hidden="true"></span> {{item.Length}} m
                                <span class="glyphicon glyphicon-info-sign bike-list-marker" on-tap="openMapMarker"></span>
							</p>
						</li>

					</template>
        </ul>
    </div>
    </div>
    </template>
    <script src="cycling-map.js"></script>
</dom-module>